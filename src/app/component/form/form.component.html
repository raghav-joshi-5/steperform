<mat-stepper #stepper>
  <mat-step [stepControl]="personaldetails">
    <form [formGroup]="personaldetails">
      <ng-template matStepLabel>Personal Details</ng-template>

      <!-- Name -->
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Name</mat-label>
        <input
          matInput
          formControlName="name"
          placeholder="Full Name"
          required
        />
        <mat-error *ngIf="f['name'].touched && f['name'].hasError('required')">
          Name is required.
        </mat-error>
        <mat-error *ngIf="f['name'].dirty && f['name'].hasError('minlength')">
          Name must be at least 3 characters long.
        </mat-error>
      </mat-form-field>

      <!-- Email -->
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" placeholder="Email" required />
        <mat-error
          *ngIf="f['email'].touched && f['email'].hasError('required')"
        >
          Email is required.
        </mat-error>
        <mat-error *ngIf="f['email'].dirty && f['email'].hasError('email')">
          Enter a valid email address.
        </mat-error>
      </mat-form-field>

      <!-- Phone Number -->
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Phone Number</mat-label>
        <input
          matInput
          formControlName="phone"
          placeholder="Phone Number"
          required
        />
        <mat-error
          *ngIf="f['phone'].touched && f['phone'].hasError('required')"
        >
          Phone number is required.
        </mat-error>
        <mat-error *ngIf="f['phone'].dirty && f['phone'].hasError('pattern')">
          Enter a valid 10-digit phone number.
        </mat-error>
      </mat-form-field>

      <!-- Date of Birth -->
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Date Of Birth</mat-label>
        <input
          matInput
          [matDatepicker]="picker"
          formControlName="dob"
          required
        />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>

        <mat-error *ngIf="f['dob'].touched && f['dob'].hasError('required')">
          Date of Birth is required.
        </mat-error>
        <mat-error *ngIf="f['dob'].dirty && f['dob'].hasError('underage')">
          You must be at least 21 years old.
        </mat-error>
      </mat-form-field>

      <!-- Gender -->
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Gender</mat-label>
        <mat-select formControlName="gender" required>
          <mat-option value="female">Female</mat-option>
          <mat-option value="male">Male</mat-option>
          <mat-option value="other">Other</mat-option>
        </mat-select>
        <mat-error
          *ngIf="f['gender'].touched && f['gender'].hasError('required')"
        >
          Gender is required.
        </mat-error>
      </mat-form-field>

      <!-- Marital Status -->
      <mat-form-field appearance="fill" class="w-100">
        <mat-label>Marital Status</mat-label>
        <mat-select formControlName="maritalstatus" required>
          <mat-option value="single">Single</mat-option>
          <mat-option value="married">Married</mat-option>
          <mat-option value="divorced">Divorced</mat-option>
        </mat-select>
        <mat-error
          *ngIf="
            f['maritalstatus'].touched &&
            f['maritalstatus'].hasError('required')
          "
        >
          Marital Status is required.
        </mat-error>
      </mat-form-field>

      <!-- Next Button -->
      <div>
        <button
          mat-button
          type="button"
          matStepperNext
          (click)="onNext()"
          [disabled]="personaldetails.invalid"
        >
          Next
        </button>
      </div>
    </form>
  </mat-step>
</mat-stepper>

<!-- Show form value -->
<pre>{{ personaldetails.value | json }}</pre>
